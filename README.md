[![Build Status](https://travis-ci.org/CallumBodels/Linux-x86-Execve-Shellcode-Generator.svg?branch=master)](https://travis-ci.org/CallumBodels/Linux-x86-Execve-Shellcode-Generator)
# Linux-86-Shellcode-Generator
Generates Linux x86 shellcode corresponding to the provided bash command and arguments. Embedding the command and arguments in an execve system call. Outputing the generated shellcode in a C file within a char *. The outputed C file prints and then executes the shellcode, so when compiled and execute it proves the shellcode's functionality.



## Benefits
<ul>
  <li>Faster than hand crafting shellcode.</li>
  <li>Generates shellcode for lengthy/complex bash which would be difficult to do by hand.</li>
  <li>Through the use of <b>./shellcode_generator.out /bin/bash -c "<- commands ->"</b> you can execute multiple commands at once. Instead of singular command execution payloaded shellcode.</li>
</ul>

## Limations
<ul>
  <li>The shortest shellcode may not be generated. Especially for certain bash commands as it embeds it inside a execve call, instead of calling the command natively through a system call.</li>
</ul>

## Installation
Tested on Ubuntu 17.04.
<ul>
  <li><b>apt-get install gcc</b> - Needed to be able to compile C programs.</li>
  <li><b>apt-get install libc6-dev-i386</b> - Needed to be able to compile in 32bit architecture in gcc.</li>
  <li><b>gcc shellcode_generator.c -o shellcode_generator.out</b> - Compiles the generator 'shellcode_generator.c' and outputs the binary to shellcode_generator.out.</li>
</ul>

## Usage
<ol>
  <li><b>./shellcode_generator.out <- desired command -> <- arguments -></b> Invokes the generator which takes the provide bash commmand and arguments and generates the corresponding shellcode, outputing the result to output.c.</li>
  <li><b>./build.sh</b> Compiles output.c with the relevant flags for stack execution of the char * and then executes the outputed binary to prove the functionality of the shellcode.</li>  
</ol>

## Example Usage
<table>
  <tr>
    <th>./shellcode_generator.out /usr/bin/whoami</th>
    <th>Generated output.c - https://i.imgur.com/NiRigX0.png</th>
  </tr>
  <tr>
    <th>./shellcode_generator.out /bin/bash -c "echo test > test.txt;ls;cat test.txt"</th>
    <th>Generated output.c - https://i.imgur.com/um2wvvD.png</th>
  </tr>
</table>

## Recommended Resources
<ul>
  <li>http://insecure.org/stf/smashstack.html</li>
</ul>
